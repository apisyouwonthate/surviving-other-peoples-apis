!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@korzio/djv-draft-04")):"function"==typeof define&&define.amd?define(["@korzio/djv-draft-04"],t):"object"==typeof exports?exports.djv=t(require("@korzio/djv-draft-04")):e.djv=t(e["@korzio/djv-draft-04"])}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,r){"use strict";function n(e,t,r){return"function"!=typeof e?e:e(t,r)}function a(e,t){return"object"===(void 0===e?"undefined":o(e))&&Object.prototype.hasOwnProperty.call(e,t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={asExpression:n,hasProperty:a}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return"object"===(void 0===e?"undefined":s(e))||"boolean"==typeof e}function o(e){return!0===e?f.ANY_SCHEMA:!1===e?f.NOT_ANY_SCHEMA:e}function i(e){if("object"!==(void 0===e?"undefined":s(e))||null===e)return{enum:[e]};if(Array.isArray(e))return{items:e.map(i),additionalItems:!1};var t=Object.keys(e);return{properties:t.reduce(function(t,r){return Object.assign({},t,n({},r,i(e[r])))},{}),required:t}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f={ANY_SCHEMA:{},NOT_ANY_SCHEMA:{not:{}}};e.exports={is:a,make:i,transform:o,transformation:f}},function(e,t,r){"use strict";function n(e){return"string"!=typeof e?e:e.split(u)[0]}function a(e){return c.test(e)}function o(e){return e.replace(p,"$1")}function i(e){return"string"!=typeof e?e:e.split(u)[1]}function s(e){return e.filter(function(e){return"string"==typeof e}).reduce(function(e,t){if(!e.length||a(t))return t;if(!t)return e;if(0===t.indexOf("#")){var r=e.indexOf("#");return-1===r?e+t:e.slice(0,r)+t}var n=o(e)+t;return n+(-1===n.indexOf("#")?"#":"")},"")}function f(e){return decodeURIComponent(e.replace(/~1/g,"/").replace(/~0/g,"~"))}var c=/:\/\//,u=/#\/?/,p=/(^[^:]+:\/\/[^?#]*\/).*/,d={id:"$id"};e.exports={makePath:s,isFullUri:a,head:n,fragment:i,normalize:f,keys:d}},function(e,t,r){"use strict";e.exports={alpha:"!/^[a-zA-Z]+$/.test(%s)",alphanumeric:"!/^[a-zA-Z0-9]+$/.test(%s)",identifier:"!/^[-_a-zA-Z0-9]+$/.test(%s)",hexadecimal:"!/^[a-fA-F0-9]+$/.test(%s)",numeric:"!/^[0-9]+$/.test(%s)","date-time":"isNaN(Date.parse(%s)) || ~%s.indexOf('/')",uppercase:"%s !== %s.toUpperCase()",lowercase:"%s !== %s.toLowerCase()",hostname:"%s.length >= 256 || !/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])(\\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9]))*$/.test(%s)",uri:"!/^[A-Za-z][A-Za-z0-9+\\-.]*:(?:\\/\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*)(?::[0-9]*)?(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?|(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|)(?:\\?(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?(?:\\#(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?$/.test(%s)",email:"!/^[^@]+@[^@]+\\.[^@]+$/.test(%s)",ipv4:'!/^(\\d?\\d?\\d){0,255}\\.(\\d?\\d?\\d){0,255}\\.(\\d?\\d?\\d){0,255}\\.(\\d?\\d?\\d){0,255}$/.test($1) || $1.split(".")[3] > 255',ipv6:"!/^((?=.*::)(?!.*::.+::)(::)?([\\dA-F]{1,4}:(:|\\b)|){5}|([\\dA-F]{1,4}:){6})((([\\dA-F]{1,4}((?!\\3)::|:\\b|$))|(?!\\2\\3)){2}|(((2[0-4]|1\\d|[1-9])?\\d|25[0-5])\\.?\\b){4})$/.test(%s)",regex:"/[^\\\\]\\\\[^.*+?^${}()|[\\]\\\\bBcdDfnrsStvwWxu0-9]/i.test(%s)","json-pointer":"!/^$|^\\/(?:~(?=[01])|[^~])*$/i.test(%s)","uri-reference":"!/^(?:[A-Za-z][A-Za-z0-9+\\-.]*:(?:\\/\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*)(?::[0-9]*)?(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?|(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|)(?:\\?(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?(?:\\#(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?|(?:\\/\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*)(?::[0-9]*)?(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|\\/(?:(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?|(?:[A-Za-z0-9\\-._~!$&'()*+,;=@]|%[0-9A-Fa-f]{2})+(?:\\/(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*|)(?:\\?(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?(?:\\#(?:[A-Za-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9A-Fa-f]{2})*)?)$/i.test(%s)","uri-template":"!/^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#.\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\\:[1-9][0-9]{0,3}|\\*)?)*\\})*$/i.test(%s)"}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=void 0;return r.lines.push(e.replace(/%i/g,function(){return"i"}).replace(/\$(\d)/g,function(e,t){return""+n[t-1]}).replace(/(%[sd])/g,function(){return n.length&&(o=n.shift()),""+o})),r}function n(){return this.join(".").replace(/\.\[/g,"[")}var a="function"==typeof t.errorHandler?t.errorHandler:function(e){return'return "'+e+": "+r.data+'";'};return Object.assign(r,{cachedIndex:0,cached:[],cache:function(e){var t=r.cached[r.cached.length-1];return t[e]?"i"+t[e]:(r.cachedIndex+=1,t[e]=r.cachedIndex,"(i"+t[e]+" = "+e+")")},data:["data"],error:a,lines:[],schema:["schema"],push:r,link:function(t){return"f"+e.link(t)},visit:function(t){r.cached.push({}),e.visit(t,r),r.cached.pop()}}),r.data.toString=n,r.schema.toString=n,r}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.inner,a=new Function("schema",e)(t);return n||(a.toString=function(){return e}),a}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.inner,o=r.errorHandler,i="",s="",f="";if(e.cachedIndex&&(i="var i"+Array.apply(void 0,n(Array(e.cachedIndex))).map(function(e,t){return t+1}).join(",i")+";"),o&&(i+="var errors = [];",s="if(errors.length) return errors;"),!a&&t.context.length){var c=[],u=[];t.context.forEach(function(e,t){if("number"==typeof e)return void u.push(t+1+"=f"+(e+1));c.push(t+1+"="+e)}),f="var f"+c.concat(u).join(",f")+";"}return f+'\n    function f0(data){\n      "use strict";\n      '+i+"\n      "+e.lines.join("\n")+"\n      "+s+"\n    }\n    return f0;"}e.exports={body:i,restore:o,template:a}},function(e,t,r){"use strict";var n=r(11),a=r(12),o=r(13),i=r(14),s=r(16),f=r(17),c=r(18),u=r(19),p=r(20),d=r(21),l=r(22),y=r(23),h=r(24),A=r(25),m=r(26),v=r(27);e.exports={name:{$ref:s,required:n,format:a,property:o,type:i,not:f,anyOf:c,oneOf:u,allOf:p,dependencies:d,properties:l,patternProperties:y,items:h,contains:A,constant:m,propertyNames:v},list:[s,n,a,o,i,f,c,u,p,d,l,y,h,A,m,v]}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={readOnly:"false",exclusiveMinimum:function(e){return"%s <= "+e.exclusiveMinimum},minimum:function(e){return"%s < "+e.minimum},exclusiveMaximum:function(e){return"%s >= "+e.exclusiveMaximum},maximum:function(e){return"%s > "+e.maximum},multipleOf:'($1/$2) % 1 !== 0 && typeof $1 === "number"',pattern:function(e){var t=void 0,r=void 0;return"string"==typeof e.pattern?t=e.pattern:(t=e.pattern[0],r=e.pattern[1]),'typeof ($1) === "string" && !'+new RegExp(t,r)+".test($1)"},minLength:'typeof $1 === "string" && function dltml(b,c){for(var a=0,d=b.length;a<d&&c;){var e=b.charCodeAt(a++);55296<=e&&56319>=e&&a<d&&56320!==(b.charCodeAt(a++)&64512)&&a--;c--}return!!c}($1, $2)',maxLength:'typeof $1 === "string" && function dmtml(b,c){for(var a=0,d=b.length;a<d&&0<=c;){var e=b.charCodeAt(a++);55296<=e&&56319>=e&&a<d&&56320!==(b.charCodeAt(a++)&64512)&&a--;c--}return 0>c}($1, $2)',minItems:"$1.length < $2 && Array.isArray($1)",maxItems:"$1.length > $2 && Array.isArray($1)",uniqueItems:function(e,t){return e.uniqueItems?(t(t.cache("{}")),'Array.isArray($1) && $1.some(function(item, key) {\n        if(item !== null && typeof item === "object") key = JSON.stringify(item);\n        else key = item;\n        if('+t.cache("{}")+".hasOwnProperty(key)) return true;\n        "+t.cache("{}")+"[key] = true;\n    })"):"true"},minProperties:'!Array.isArray($1) && typeof $1 === "object" && Object.keys($1).length < $2',maxProperties:'!Array.isArray($1) && typeof $1 === "object" && Object.keys($1).length > $2',enum:function(e,t){return e.enum.map(function(e){var r="$1",a=e;return"object"===(void 0===e?"undefined":n(e))?(a="'"+JSON.stringify(e)+"'",r=t.cache("JSON.stringify($1)")):"string"==typeof e&&(a="'"+e+"'"),r+" !== "+a}).join(" && ")}}},function(e,t,r){"use strict";e.exports=["$ref","$schema","type","not","anyOf","allOf","oneOf","properties","patternProperties","additionalProperties","items","additionalItems","required","default","title","description","definitions","dependencies","$id","contains","const","examples"]},function(e,t,r){e.exports=r(9)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof a))return new a(e);this.options=e,this.resolved={},this.state=new l(null,this),this.useVersion(e.version,e.versionConfigure),this.addFormat(e.formats)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(2),s=i.head,f=r(4),c=f.restore,u=r(3),p=r(10),d=p.generate,l=p.State,y=r(28),h=y.add,A=y.use;a.prototype={validate:function(e,t){return this.resolve(e).fn(t)},addSchema:function(e,t){var r=this,n="object"===(void 0===e?"undefined":o(e))?e:t,a={schema:n,fn:d(this,n,void 0,this.options)};return[e,t.id].filter(function(e){return"string"==typeof e}).map(s).forEach(function(e){r.resolved[e]=Object.assign({name:e},a)}),a},removeSchema:function(e){e?delete this.resolved[e]:this.resolved={}},resolve:function(e){return"object"!==(void 0===e?"undefined":o(e))&&this.resolved[e]?this.resolved[e]:this.addSchema(e,this.state.resolve(e))},export:function(e){var t=this,r=void 0;return e?(r=this.resolve(e),r={name:e,schema:r.schema,fn:r.fn.toString()}):(r={},Object.keys(this.resolved).forEach(function(e){r[e]={name:e,schema:t.resolved[e].schema,fn:t.resolved[e].fn.toString()}})),JSON.stringify(r)},import:function(e){var t=this,r=JSON.parse(e),a=r;r.name&&r.fn&&r.schema&&(a=n({},r.name,r)),Object.keys(a).forEach(function(e){var r=a[e],n=r.name,o=r.schema,i=r.fn,s=c(i,o,t.options);t.resolved[n]={name:n,schema:o,fn:s}})},addFormat:function(e,t){if("string"==typeof e)return void(u[e]=t);"object"===(void 0===e?"undefined":o(e))&&Object.assign(u,e)},setErrorHandler:function(e){Object.assign(this.options,{errorHandler:e})},useVersion:function(e,t){"function"!=typeof t&&"draft-04"===e&&(t=r(29)),"function"==typeof t&&h(e,t),A(e)}},e.exports=a},function(e,t,r){"use strict";function n(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1]);Object.assign(this,{context:[],entries:new Map,env:e})}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new n(t,e),a=arguments[3],o=u(r,a);o.visit(t);var i=f(o,r,a);return c(i,t,a)}var o=r(5),i=o.list,s=r(4),f=s.body,c=s.restore,u=s.template,p=r(0),d=p.hasProperty,l=r(2),y=l.normalize,h=l.makePath,A=l.head,m=l.isFullUri,v=l.fragment,b=l.keys,$=r(1),F=$.is,g=$.transform;n.prototype=Object.assign(Object.create(Array.prototype),{addEntry:function(e,t){var r=this.entries.get(t);return!1===r?this.context.push(t):(void 0===r&&(this.entries.set(t,!1),r=a(this.env,t,this,{inner:!0}),this.entries.set(t,r),this.revealReference(t)),this.context.push(r))},revealReference:function(e){for(var t=this.context.indexOf(e);-1!==t;t=this.context.indexOf(e))this.context[t]=this.context.length},link:function(e){var t=this.resolve(e);return this.addEntry(e,t)},resolveReference:function(e){if(m(e))return e;for(var t=void 0,r=void 0,n=this.length-1;n>=0;n-=1,t=!1){var a=this[n],o=a[b.id],i=a.$ref;if(t=o||i,m(t)){r=n;break}}for(var s=[],f=this.length-1;f>r;f-=1){var c=this[f],u=c[b.id],p=c.$ref,d=u||p;A(d)&&s.push(d)}return h([t].concat(s,[e]))},ascend:function(e){for(var t=A(e),r=this.env.resolved[t]||{},n=r.schema,a=void 0===n?this[0]:n;a.$ref&&A(a.$ref)!==A(e)&&1===Object.keys(a).length;)a=this.ascend(a.$ref);return a},descend:function(e,t){var r=this,n=v(e);if(!n&&m(e))return t;n||(n=e);var a=n.split("/"),o=a.map(y).reduce(function(e,t,n){var o=e[t];return F(o)||(o=e.definitions&&e.definitions[t]),n!==a.length-1&&d(o,b.id)&&r.push(o),o},t);return F(o)?o:t},resolve:function(e){if("string"!=typeof e)return e;var t=this.resolveReference(e),r=this.ascend(t);return this.descend(e,r)},visit:function(e,t){var r=g(e),n=this.length;this.push(r),i.some(function(e){return e(r,t)}),this.length=n}}),e.exports={State:n,generate:a}},function(e,t,r){"use strict";e.exports=function(e,t){Array.isArray(e.required)&&(t("if (typeof %s === 'object' && !Array.isArray(%s)) {",t.data),e.required.forEach(function(e){var r=t.error("required",e);t('if (!%s.hasOwnProperty("%s")) '+r,t.data,e)}),t("}"))}},function(e,t,r){"use strict";var n=r(3),a=r(0),o=a.asExpression;e.exports=function(e,t){if(void 0!==e.format){var r=o(n[e.format],e,t);if(r){t("if ("+r+") "+t.error("format"),t.data)}}}},function(e,t,r){"use strict";var n=r(6),a=r(7),o=r(0),i=o.asExpression;e.exports=function(e,t){Object.keys(e).forEach(function(r){if(-1===a.indexOf(r)&&"format"!==r){var o=i(n[r],e,t);if(o){var s=t.error(r);t("if ("+o+") "+s,t.data,e[r])}}})}},function(e,t,r){"use strict";var n=r(15),a=r(0),o=a.hasProperty;e.exports=function(e,t){if(o(e,"type")){var r=t.error("type");t("if ("+("("+[].concat(e.type).map(function(e){return n[e]}).join(") && (")+")")+") "+r,t.data)}}},function(e,t,r){"use strict";e.exports={null:"%s !== null",string:'typeof %s !== "string"',boolean:'typeof %s !== "boolean"',number:'typeof %s !== "number" || %s !== %s',integer:'typeof %s !== "number" || %s % 1 !== 0',object:'!%s || typeof %s !== "object" || Array.isArray(%s)',array:"!Array.isArray(%s)",date:"!(%s instanceof Date)"}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){return!!a(e,"$ref")&&(t("if ("+t.link(e.$ref)+"(%s)) "+t.error("$ref"),t.data),!0)}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){a(e,"not")&&t("if (!"+t.link(e.not)+"(%s)) "+t.error("not"),t.data)}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){if(a(e,"anyOf")){var r=e.anyOf.map(function(e){return t.link(e)+"(%s)"}).join(" && "),n=t.error("anyOf");t("if ("+r+") "+n,t.data)}}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){if(a(e,"oneOf")){var r=e.oneOf.map(function(e){return t.link(e)}),n=t.cache("["+r+"]"),o=t.cache("["+r+"]"),i=t.cache(o+".length - 1"),s=t.cache(o+".length - 1"),f=t.cache("0"),c=t.cache("0");t("for ($1, $3, $5; $4 >= 0 && $4 < $2.length; $4--) {",n,o,i,s,f)("if(!%s[%s](%s))",o,s,t.data)("%s++",c)("}")("if (%s !== 1)",c)(t.error("oneOf"))}}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){if(a(e,"allOf")){var r=e.allOf.map(function(e){return""+t.link(e)}).join("(%s) || ")+"(%s)",n=t.error("allOf");t("if ("+r+") "+n,t.data)}}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty,o=r(1),i=o.is;e.exports=function(e,t){a(e,"dependencies")&&Object.keys(e.dependencies).forEach(function(r){t('if (%s.hasOwnProperty("%s")) {',t.data,r),Array.isArray(e.dependencies[r])||"string"==typeof e.dependencies[r]?[].concat(e.dependencies[r]).forEach(function(e){t('if (!%s.hasOwnProperty("%s"))',t.data,e)(t.error("dependencies"))}):i(e.dependencies[r])&&t.visit(e.dependencies[r]),t("}")})}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(0),o=a.hasProperty;e.exports=function(e,t){o(e,"properties")&&"object"===n(e.properties)&&Object.keys(e.properties).forEach(function(r){var a=e.properties[r];if("object"!==(void 0===a?"undefined":n(a))||Object.keys(a).length){var o=!e.required||-1===e.required.indexOf(r);o&&t('if (%s.hasOwnProperty("'+r+'")) {',t.data),t.data.push("['"+r+"']"),t.visit(a),t.data.pop(),o&&t("}")}})}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){var r=a(e,"additionalProperties")&&!0!==e.additionalProperties,n=a(e,"patternProperties");if(r||n){t("if(typeof %s === 'object' && !Array.isArray(%s)) {",t.data),t(t.cache("null"));var o=t.cache("null"),i=function(){!1===e.additionalProperties?t(t.error("additionalProperties")):e.additionalProperties&&(t.data.push("["+o+"]"),t.visit(e.additionalProperties),t.data.pop())};t("for (%s in %s) {",o,t.data),r&&n&&t(t.cache("false")),n?Object.keys(e.patternProperties).forEach(function(n){var a=e.patternProperties[n];t("if (%s.test(%s)) {",new RegExp(n),o),r&&t(t.cache("false")+" = true;"),t.data.push("["+o+"]"),t.visit(a),t.data.pop(),t("}"),e.properties?t("if ("+(r?t.cache("false")+" || ":"")+" %s.properties.hasOwnProperty("+o+")) continue;",t.schema):r&&t("if ("+t.cache("false")+") continue;"),i()}):(e.properties&&t("if(%s.properties.hasOwnProperty("+o+")) continue;",t.schema),i()),t("}}")}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(0),o=a.hasProperty;e.exports=function(e,t){o(e,"items")&&(t("if(Array.isArray(%s)) {",t.data),Array.isArray(e.items)?(!1===e.additionalItems&&t("if (%s.length > %s)",t.data,e.items.length)(t.error("additionalItems")),e.items.forEach(function(e,r){t("if(%s.length > "+r+") {",t.data),t.data.push("["+r+"]"),t.visit(e),t.data.pop(),t("}")}),"object"===n(e.additionalItems)&&(t("for ($1; $2 < $3.length; $2++) {",t.cache(e.items.length),t.cache(e.items.length),t.data),t.data.push("["+t.cache(e.items.length)+"]"),t.visit(e.additionalItems),t.data.pop(),t("}"))):(t("for ($1; $2 < $3.length; $2++) {",t.cache("0"),t.cache("0"),t.data),t.data.push("["+t.cache("0")+"]"),t.visit(e.items),t.data.pop(),t("}")),t("}"))}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){if(a(e,"contains")){var r=t.error("contains"),n=""+t.link(e.contains),o=n+"(%s)";t("if (Array.isArray(%s)) {",t.data),t("if (%s.length === 0) "+r,t.data),t("for ($1; $2 < $3.length; $2++) {",t.cache("0"),t.cache("0"),t.data),t.data.push("["+t.cache("0")+"]"),t("if (!"+o+") break;",t.data),t.data.pop(),t("if ($1 === $2.length - 1) "+r,t.cache("0"),t.data),t("}"),t("}")}}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty,o=r(1),i=o.make;e.exports=function(e,t){if(a(e,"const")){var r=i(e.const);t.visit(r)}}},function(e,t,r){"use strict";var n=r(0),a=n.hasProperty;e.exports=function(e,t){if(a(e,"propertyNames")){t("if(Object.keys(%s).some("+t.link(e.propertyNames)+")) "+t.error("propertyNames"),t.data)}}},function(e,t,r){"use strict";function n(e,t){y[e]=t}function a(e){if(e&&y[e]){(0,y[e])(l)}}var o=r(6),i=r(7),s=r(5),f=r(3),c=r(2),u=c.keys,p=r(1),d=p.transformation,l={properties:o,keywords:i,validators:s,formats:f,keys:u,transformation:d},y={};e.exports={add:n,use:a}},function(t,r){t.exports=e}])});
//# sourceMappingURL=djv.js.map